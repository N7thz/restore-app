generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Product {
  id          String        @id @default(uuid())
  name        String
  imageUrl    String?       @map("image_url")
  description String?
  price       Float
  createdAt   DateTime      @default(now()) @map("created_at")
  updatedAt   DateTime      @updatedAt @map("updated_at")
  quantity    Float
  minQuantity Float         @default(0) @map("min_quantity")
  ProductExit ProductExit[]

  @@map("products")
}

model ProductExit {
  id          String   @id @default(uuid())
  description String?
  username    String
  region      String
  quantity    Float
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")
  productId   String   @map("product_id")
  product     Product  @relation(fields: [productId], references: [id])

  @@map("products_exit")
}

model Notification {
  id          String   @id @default(uuid())
  name        String
  description String?
  createdAt   DateTime @map("created_at")
  read        Boolean  @default(false)
  action      Action

  @@map("notifications")
}

enum Action {
  CREATE
  UPDATE
  DELETE
  MIN_QUANTITY
}
